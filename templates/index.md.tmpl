---
page_title: "HAProxy Data Plane Provider"
description: |-
  Manage HAProxy configuration and runtime objects through the HAProxy Data Plane API.
---

# HAProxy Data Plane Provider

Use this provider to manage HAProxy configuration with Terraform and keep load balancer changes in version control.

## Quick Start

```terraform
terraform {
  required_providers {
    haproxy-dataplane = {
      source  = "pderuiter/haproxy-dataplane"
      version = ">= 0.1.7"
    }
  }
}

provider "haproxy-dataplane" {
  endpoint = "http://127.0.0.1:5555"
  username = "admin"
  password = "adminpwd"
}

resource "haproxy-dataplane_backend" "api" {
  name = "be_api"

  spec = {
    mode = "http"
    balance = {
      algorithm = "roundrobin"
    }
  }
}

resource "haproxy-dataplane_backend_server" "api_1" {
  parent_name = haproxy-dataplane_backend.api.name
  name        = "api-1"

  spec = {
    address = "10.0.20.11"
    port    = 8080
    check   = "enabled"
  }
}

resource "haproxy-dataplane_frontend" "public" {
  name = "fe_public"

  spec = {
    mode            = "http"
    default_backend = haproxy-dataplane_backend.api.name
  }
}

resource "haproxy-dataplane_frontend_bind" "http" {
  parent_name = haproxy-dataplane_frontend.public.name
  name        = "http"

  spec = {
    address = "*"
    port    = 80
  }
}
```

## Authentication Patterns

### Token-based authentication

```terraform
provider "haproxy-dataplane" {
  endpoint = "https://haproxy.internal:5555"
  token    = var.haproxy_token
}
```

### mTLS authentication

```terraform
provider "haproxy-dataplane" {
  endpoint        = "https://haproxy.internal:5555"
  client_cert_pem = file("certs/client.crt")
  client_key_pem  = file("certs/client.key")
  ca_cert_pem     = file("certs/ca.crt")
}
```

{{ .SchemaMarkdown | trimspace }}
